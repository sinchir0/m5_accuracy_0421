DEBUG:root:.//datadrive/workspace/s-saito/kaggle_pipeline_m5_accuracy/model_output/case4/log_case4_20200419174623.log
DEBUG:root:feats:['001_lag_t28', '001_lag_t29', '001_lag_t30', '002_rolling_mean_t7', '002_rolling_std_t7', '002_rolling_mean_t30', '002_rolling_mean_t90', '002_rolling_mean_t180', '002_rolling_std_t30', '002_rolling_skew_t30', '002_rolling_kurt_t30', '003_price_change_t1', '003_price_change_t365', '003_rolling_price_std_t7', '003_rolling_price_std_t30', '004_year', '004_month', '004_week', '004_day', '004_dayofweek']
DEBUG:root:target:demand
DEBUG:root:train_df.shape:(29973650, 38)
DEBUG:root:test_df.shape:(853720, 38)
DEBUG:root:Start HOLD_OUT
DEBUG:root:params:{'boosting_type': 'gbdt', 'metric': 'rmse', 'objective': 'poisson', 'n_jobs': -1, 'seed': 2020, 'learning_rate': 0.1, 'bagging_fraction': 0.75, 'bagging_freq': 10, 'colsample_bytree': 0.75, 'num_boost_round': 2500, 'early_stopping_rounds': 50}
DEBUG:main:[30]	training's rmse: 2.67988	training's wrmsse: 1.06205	valid_1's rmse: 2.33647	valid_1's wrmsse: 1.03751
DEBUG:main:[60]	training's rmse: 2.60943	training's wrmsse: 0.799346	valid_1's rmse: 2.2425	valid_1's wrmsse: 0.74767
DEBUG:main:[90]	training's rmse: 2.56423	training's wrmsse: 0.706962	valid_1's rmse: 2.21898	valid_1's wrmsse: 0.64261
DEBUG:main:[120]	training's rmse: 2.52275	training's wrmsse: 0.659179	valid_1's rmse: 2.19911	valid_1's wrmsse: 0.595277
DEBUG:main:[150]	training's rmse: 2.49185	training's wrmsse: 0.642763	valid_1's rmse: 2.19251	valid_1's wrmsse: 0.577718
DEBUG:main:[180]	training's rmse: 2.46568	training's wrmsse: 0.636454	valid_1's rmse: 2.17878	valid_1's wrmsse: 0.57276
DEBUG:main:[210]	training's rmse: 2.44182	training's wrmsse: 0.630552	valid_1's rmse: 2.17128	valid_1's wrmsse: 0.567
DEBUG:main:[240]	training's rmse: 2.42938	training's wrmsse: 0.625492	valid_1's rmse: 2.16703	valid_1's wrmsse: 0.564278
DEBUG:main:[270]	training's rmse: 2.41368	training's wrmsse: 0.622812	valid_1's rmse: 2.16133	valid_1's wrmsse: 0.561957
DEBUG:main:[300]	training's rmse: 2.4053	training's wrmsse: 0.621649	valid_1's rmse: 2.16043	valid_1's wrmsse: 0.563003
DEBUG:root:valid_0.5617214459162144
DEBUG:root:                      feature  importance
34                 sell_price        1100
5        002_rolling_mean_t30         591
7       002_rolling_mean_t180         559
20                    item_id         520
6        002_rolling_mean_t90         465
14  003_rolling_price_std_t30         387
17                   004_week         385
3         002_rolling_mean_t7         374
23                   store_id         365
19              004_dayofweek         329
0                 001_lag_t28         290
21                    dept_id         285
26                   wm_yr_wk         284
12      003_price_change_t365         259
16                  004_month         238
8         002_rolling_std_t30         215
4          002_rolling_std_t7         190
18                    004_day         185
9        002_rolling_skew_t30         175
1                 001_lag_t29         160
24                   state_id          96
13   003_rolling_price_std_t7          93
10       002_rolling_kurt_t30          88
27               event_name_1          81
2                 001_lag_t30          58
28               event_type_1          55
11        003_price_change_t1          44
22                     cat_id          43
33                    snap_WI          42
15                   004_year          33
32                    snap_TX          18
31                    snap_CA           3
25                       part           0
29               event_name_2           0
30               event_type_2           0
